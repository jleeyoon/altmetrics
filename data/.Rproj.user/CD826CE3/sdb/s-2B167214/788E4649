{
    "contents" : "---\ntitle: \"On the origin of citations\"\nauthor: \"Jiyoung Lee\"\ndate: \"September 15, 2015\"\noutput: html_document \n\n---\n\n# Load the data\n\n```{r load_data}\ncounts_raw <- read.delim(\"counts-raw.txt.gz\")\ncounts_norm <- read.delim(\"counts-norm.txt.gz\")\n```\n\n\n# Data exploration\n\nWhat's the number of Facebook shares per paper?\n\n```{r facebook_histogram, fig.cap=\"Fig.2. How popular articles on Facebook\"} \nhist(counts_raw$facebookShareCount, main = \"Facebook shares per paper\", xlab=\"#shares\")\n\n```\n\n\nthe average number of Facebook shares per paper in the data set\n`r mean(counts_raw$facebookShareCounts)`.\n\n## dplyr\n\n```{r}\nlibrary(\"dplyr\")\n```\n\n```{r}\nresearch <- filter(counts_raw, articleType == \"Research Article\")\n```\n\n```{r}\nresearch_2008 <- filter(research, year == 2008)\nnrow(research_2008)\n```\n\n```{r}\n\n\nresearch_2008_pdfDownloadsCount <- filter(research, year == 2008,\n                           pdfDownloadsCount > 1000)\nnrow(research_2008_pdfDownloadsCount)\n```\n\n```{r}\nresearch_2006_fb_tweet <- filter(research, year == 2006,\n                           facebookCommentCount > 0 | backtweetsCount > 0,\n                           grepl(\"Infectious Diseases\", plosSubjectTags))\nnrow(research_2006_fb_tweet)\n```\n\n\n```{r}\ncolnames(research)\n```\n\n```{r}\narticle_info <- select(research, doi:authorsCount)\ncolnames(article_info)\n```\n```{r}\nmetrics <- select(research, contains(\"Count\"), -authorsCount,\n                  f1000Factor, wikipediaCites)\ncolnames(metrics)\n```\n\n```{r}\nhead(select(research, journal))\nhead(select(research, 3))\n```\n\n```{r}\nslice(article_info, 30:35)\n```\n```{r}\n\narticle_info <- select(reserach, doi:authorsCount)\nColnames(article_info)\n\n\n```\n\n\n```{r}\nmetrics <- select(research, contains(\"Count\"), -authorsCount,\n                  f1000factors, wilipediaCites)\ncolnames(metrics)\n\n```\n\n```{r}\n\nslice(article_info, 30:35)\n\n```\n\n```{r}\nresearch <- filter()\n\n```\n\n```{r}\nresarch_2008 <- filter (research, year == 2008)\nnrow(resaerch, year_2008)\n```\n\n\n```{r}\n\nlow_cite <- filter(research, year < 2009,\n                   pdfDownloadsCount > 1000,\n                   mendeleyReadersCount > 15,\n                   wosContThru2011 < 10)\nnrow(low_cite)\nselect(low_cite, title)\n\n```\n```{r}\nfacebook_2006 <- research %>% filter(year == 2006) %>% select(contains(\"facebook\"))\nhead(facebook_2006)\n\nresearch %>% filter(year == 2006) %>% \n  select(contains(\"facebook\")) %>%\n  nrow\n\n\n```\n\n\n\n```{r}\n\nresearch %>% arrange(desc(authorsCount), wosCountThru2011) %>%\n  select(authorsCount, wosCountThru2011) %>%\n  slice(1:10)\n\n```\n\n```{r}\nresearch %>% arrange(authorsCount, wosCountThru2011) %>%\n  select(title, wosCountThru2011) %>%\n  slice(1:3)\n\n\nresearch %>% arrange(desc(wosCountThru2011)) %>%\n  slice(1:3) %>% select(title, wosCountThru2011)\n\n\n\n```\n```{r}\n\nresearch %>% arrange(authorsCount) %>% select(authorsCount, title, journal, plosSubjectTags) %>% slice(1:3)\n\n```\n\n```{r}\nresearch <- research %>% mutate(weeksSincePublished = daysSincePublished / 7,\n                                yearsSincePublished = weeksSincePublished / 52)\nresearch %>% select(contains(\"since\")) %>% slice(1:10)\n\n\n```\n\n```{r}\nx <- research %>% summarize(plos_mean = mean(plosCommentCount),\n                            plos_sd = sd(plosCommentCount),\n                            num = n())\n\n\n```\n\n### using group_by\n\n```{r}\n\nresearch %>% group_by(journal, year) %>% \n  summarize(tweets_mean = mean(backtweetsCount))\n\n\n```\n\n```{r}\n\nresearch %>% group_by(journal) %>% \n  summarize(num = n(),\n            mean = mean(backtweetsCount),\n            sem = sd(backtweetsCount) / sqrt(num))\n\n        \ntweets_per_journal <- research %>% group_by(journal) %>% \n  summarize(num = n(),\n            mean = mean(backtweetsCount),\n            sem = sd(backtweetsCount) / sqrt(num))\ntweets_per_journal\n\n```\n\n",
    "created" : 1442332939062.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3718562666",
    "id" : "788E4649",
    "lastKnownWriteTime" : 1442335699,
    "path" : "C:/Users/Jiyoung/altmetrics/data/altmetrics_analyses.Rmd",
    "project_path" : "altmetrics_analyses.Rmd",
    "properties" : {
        "tempName" : "Untitled2"
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "type" : "r_markdown"
}